<html>

<head>
    <script>
        let n = +prompt("Введите N (порядок квадратной матрицы)");
        let massiv_1 = Matrix_1(); //Единичная матрица
        let massiv_2 = Matrix_2(); //Треугольная матрица
        let massiv_3 = TransMatrix(massiv_2); //Транспонированная матрица
        let massiv_4 = multMatrixNumber(3, massiv_3); // Умножение матрицы на 3
        let massiv_5 = MatrixPow(2, massiv_2); //Возведение матрицы во 2ю степень
        let massiv_6 = SumMatrix(massiv_5, massiv_1)//Сложение матриц A (первое действие)
        let massiv_7 = SumMatrix(massiv_6, massiv_4)//Сложение матриц B (второе действие)

        function Matrix_1() { // Единичная матрица
            let massiv_1 = [];
            for (let i = 0; i < n; i++) {
                massiv_1[i] = [];
                for (let j = 0; j < n; j++) {
                    massiv_1[i][j] = 0;
                }
            }
            for (let i = 0; i < n; i++) {
                for (let j = 0; j < n; j++) {
                    massiv_1[i][j] = Math.floor(Math.random() * (9 - 1 + 1) + 1); //Значения задаются рандомно
                    i++;
                }
            }
            return massiv_1;
        }

        function Matrix_2() { //Треугольная матрица
            let massiv_2 = [];
            for (i = 0; i < n; ++i) {   
                massiv_2[i] = [];
                for (j = 0; j < i; j++) {
                    massiv_2[i][j] = 0;    
                }
                massiv_2[i][j] = Math.floor(Math.random() * (9 - 1 + 1) + 1);
                for (++j; j < n; ++j)  
                {
                    massiv_2[i][j] = Math.floor(Math.random() * (9 - 1 + 1) + 1);    
                }
            }
            return massiv_2;
        }

        function TransMatrix(A) { //Транспонирование матрицы
            let m = A.length;
            let n = A[0].length;
            let AT = [];
            for (let i = 0; i < n; i++) {
                AT[i] = [];
                for (let j = 0; j < m; j++) AT[i][j] = A[j][i];
            }
            return AT;
        }

        function multMatrixNumber(a, A) { //Умножение матрицы на число
            let m = A.length;
            let n = A[0].length;
            let B = [];
            for (let i = 0; i < m; i++) {
                B[i] = [];
                for (let j = 0; j < n; j++) B[i][j] = a * A[i][j];
            }
            return B;
        }

        function MultiplyMatrix(A, B) { //Умножение матриц (в степень)
            let rowsA = A.length;
            let colsA = A[0].length;
            let rowsB = B.length;
            let colsB = B[0].length;
            C = [];
            if (colsA != rowsB) return false;
            for (let i = 0; i < rowsA; i++) C[i] = [];
            for (let k = 0; k < colsB; k++) {
                for (let i = 0; i < rowsA; i++) {
                    let t = 0;
                    for (let j = 0; j < rowsB; j++) t += A[i][j] * B[j][k];
                    C[i][k] = t;
                }
            }
            return C;
        }

        function MatrixPow(n, A) { //Возведение матрицы в степень
            if (n == 1) return A;     // Функцию MultiplyMatrix см. выше
            else return MultiplyMatrix(A, MatrixPow(n - 1, A));
        }

        function SumMatrix(A, B) { //Сложение матриц
            let m = A.length;
            let n = A[0].length;
            let C = [];
            for (let i = 0; i < m; i++) {
                C[i] = [];
                for (let j = 0; j < n; j++) C[i][j] = A[i][j] + B[i][j];
            }
            return C;
        }

        console.log("E"); //(единичная матрица)
        console.log(massiv_1);
        console.log("T"); //(треугольная матрица)
        console.log(massiv_2);
        console.log("Tᵀ"); //(транспонированная матрица)
        console.log(massiv_3);
        console.log("3 * Tᵀ"); //(транспонированная матрица x 3)
        console.log(massiv_4);
        console.log("T²"); //(возведение матрицы в степень 2)
        console.log(massiv_5);
        console.log("3 * Tᵀ + E"); //Сложение матриц A (первое действие)
        console.log(massiv_6);
        // console.log("Сложение матриц B (второе действие)");
        console.log("Результат \n3 * Tᵀ + E + T²");
        console.log(massiv_7);

    </script>
</head>

<body>
    <h1> </h1>
</body>

</html>